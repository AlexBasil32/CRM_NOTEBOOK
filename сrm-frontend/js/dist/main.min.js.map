{"version":3,"sources":["main.js"],"names":["DELAY_TIME","URI","clientsState","columnOfSort","id","stateOfSort","fullname","updatedAt","contactsTypes","modalWindowStructure","type","headTitle","this","buttonSubmit","button","sortedClients","typeSortingByCreatedAt","sortClientsByDate","clients","tbodyElement","document","querySelector","typeSortingById","typeSortingByFullname","createdAt","typeSortingByUpdatedAt","ascending","sort","a","b","surname","trim","toLowerCase","name","lastName","sortClientsById","markColumnOfSort","thElements","forEach","thElement","addEventListener","append","createRowWithClientData","innerHTML","querySelectorAll","column","sortClientsByFullname","classList","add","childNodes","remove","innerText","deleteClientButtons","client","createElement","iconElement","tdFullname","createModalWindow","location","hash","clientId","createDate","createTime","tdUpdateDate","wrapUpdateDate","updateDate","updateTime","tdContacts","ulContacts","contacts","ul","amountOfContacts","length","visible","slice","span","contact","index","formatTime","li","setAttribute","createContactList","img","value","createContactItem","tdActions","wrapActions","buttonEdit","buttonEditImg","buttonEditText","buttonDelete","buttonDeleteImg","tdId","tr","tdCreateDate","wrapCreateDate","buttonDeleteText","tooltipElememt","combElement","tooltipValueElement","parentNode","contactsElement","tooltipTypeElement","showAllContacts","deleteClientbutton","regeneratorRuntime","async","_context","prev","next","dataset","awrap","fetchGetClientById","sent","stop","changeClientButton","_context2","changeClientButtons","str","sortDataInTable","tableHeadElement","insertClientsData","Date","field","getTime","showTooltips","target","event","tooltipType","tooltipValue","columns","body","getBoundingClientRect","left","offsetWidth","top","coords","offsetHeight","style","opacity","modal","buttonWindowClose","idValue","typeOfModal","headerElement","title","header","headerTitle","iconButtonSubmit","buttonsElement","textContent","headerInfo","concat","createHeadOfModal","wrapper","combElements","blockError","wrapperError","spanError","wrapperContacts","buttonAddContactElement","fieldsetContacts","clietntNameElement","fieldsetClientName","wrapperClientName","wrapperSurname","inputSurname","onUpdate","lableSurname","asterixSurname","wrapperName","inputName","asterixName","setDisabledOnElementsOfForm","inputLastname","lableLastname","lableName","wrapperLastname","onClose","onDelete","showDropDown","VISIBLE_CSS","setPaddingToContacrsWrap","contactsWrap","contactsElements","addListenersOnInput","showInpunsUnderLables","createClientNameForModal","formElement","listOfContacts","contactItem","buttonAddContact","buttonAddContactIcon","buttonAddContactTitle","createButtonAddContactForModal","createClientContactsForModal","disabledButtonAddContact","listContacts","preventDefault","stopPropagation","buttonDropdown","dropdown","listDropdown","itemsDropdown","setEventOnButtonDeleteContact","addNewContact","hidenDropdown","deleteButton","deleteContact","modalElement","setEventsOnInput","checkValueInInputs","smallTitle","wrapContactType","buttonContactType","listContactTypeDropdown","inputContactValue","buttonContactDelete","buttonContactDeleteIcon","buttonSubmitTitle","item","wrapperButtons","buttonSmall","contains","clientValues","_context3","getValuesFromModal","textError","onSave","setEventsOnDropdown","setTimeout","createContactForModal","inputs","inputElement","input","lableElement","createErrorForModal","toggle","focus","buttonSubmitIcon","key","items","element","inputContact","buttonDeleteContact","surnameElement","nameElement","typeElement","contactsItem","valueElement","push","objContact","deleteButtons","disabledElements","modalInputs","modalInput","disabled","contactsItems","lastNameElement","_context4","fetchDeleteClient","httpErrorHandler","fetchAddClient","сlient","_context6","response","status","updateClientsInTable","json","info","message","r","ms","fetchGetClients","data","_context8","delay","fetch","abrupt","fetchSearchClients","search","url","_context9","obj","_context10","method","headers","Content-Type","JSON","stringify","_context11","fetchUpdateClient","_context12","_context13","serchInput","tableBodyOverley","_context14","createListItems","list","listItem","showClientInTable","clearListOfSearch","setFocusOnItem","focusedItem","itemElements","itemElement","unfocusAllItems","trOfClient","getElementById","scrollIntoView","behavior","block","error","findContacts","inputValue","listSearchedValues","serchedClients","listItemsElements","tableBody","container","logoImage","formInput","form","logo","headThId","headThContacts","tableBox","headThActions","headThUpdatedateImg","headThUpdatedateTitle","headThUpdatedate","headThCreatedateImg","headThCreatedateTitle","headThCreatedate","headThFullnameDescr","headThFullnameImg","headThFullnameTitle","headThFullname","headThIdImg","headThIdTitle","headTr","thead","table","main","overlay","tableHead","tbody","overlayRing","createAddClientButton","buttonWrapper","icon","text","addButton","timeoutId","highlightedItem","clearTimeout","split"],"mappings":"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","file":"main.min.js","sourcesContent":["(function () {\n\n  const DELAY_TIME = 300; //300 мс установлено тех. заданием\n  const VISIBLE_CSS = 'visible';\n  const URI = 'http://localhost:3000/api/clients';\n\n  // Объект состояния клиентов (сортировка, массив объектов клиентов)\n  const clientsState = {\n    columnOfSort: 'id', // По умолчанию по тех.заданию\n    stateOfSort: {\n      id: true,\n      fullname: false,\n      createdAt: false,\n      updatedAt: false,\n    },\n    clients: [],\n  };\n\n  // Массив типов контактов\n  const contactsTypes = ['Телефон', 'Facebook', 'VK', 'Email', 'Другое'];\n\n  // Объект структуры модального окна  \n  const modalWindowStructure = {\n    type: 'new', // Может принимать значения delete, new, change\n\n    headTitle: function () {\n      const titles = {\n      'delete' : ' Удалить клиента',\n      'new' : 'Новый клиент',\n      }\n      return [this.type];\n    },\n\n    buttonSubmit: function () {\n      return (this.type === 'delete') ? 'Удалить' : 'Сохранить';\n    },\n\n    button: function () {\n      return (this.type === 'change') ? 'Удалить клиента' : 'Отмена';\n    },\n  };\n\n  // ======== Отрисовка таблицы\n  // Создаем Header\n  function createHeader() {\n    const header = document.createElement('header');\n    const logo = document.createElement('a');\n    const logoImage = document.createElement('img');\n    const form = document.createElement('form');\n    const formInput = document.createElement('input');\n\n    header.classList.add('header', 'header__container');\n    logo.classList.add('logo');\n    form.classList.add('search-form');\n    formInput.classList.add('input', 'search-form__input');\n\n    logoImage.setAttribute('src', './img/logo.svg');\n    logoImage.setAttribute('alt', 'Логотип Эс Кей Би');\n    form.setAttribute('action', '#');\n    formInput.setAttribute('type', 'text');\n    formInput.setAttribute('placeholder', 'Введите запрос');\n\n    logo.append(logoImage);\n    form.append(formInput);\n    header.append(logo);\n    header.append(form);\n\n    return {\n      header,\n      form,\n      input: formInput,\n    };\n  };\n\n  // Создаём Main и шапку таблицы\n  function createTableHead() {\n    const main = document.createElement('main');\n    const title = document.createElement('h1');\n    const tableBox = document.createElement('div');\n    const table = document.createElement('table');\n    const thead = document.createElement('thead');\n    const headTr = document.createElement('tr');\n    const headThId = document.createElement('th');\n    const headThIdTitle = document.createElement('span');\n    const headThIdImg = document.createElement('span');\n    const headThFullname = document.createElement('th');\n    const headThFullnameTitle = document.createElement('span');\n    const headThFullnameImg = document.createElement('span');\n    const headThFullnameDescr = document.createElement('span');\n    const headThCreatedate = document.createElement('th');\n    const headThCreatedateTitle = document.createElement('span');\n    const headThCreatedateImg = document.createElement('span');\n    const headThUpdatedate = document.createElement('th');\n    const headThUpdatedateTitle = document.createElement('span');\n    const headThUpdatedateImg = document.createElement('span');\n    const headThContacts = document.createElement('th');\n    const headThActions = document.createElement('th');\n\n    main.classList.add('container');\n    title.classList.add('main__title');\n    tableBox.classList.add('table__box');\n    table.classList.add('table');\n    headTr.classList.add('table-head__row');\n    headThId.classList.add('table-head__cells', 'table-head_id', 'table__column_sort');\n    headThIdTitle.classList.add('head-id__title');\n    headThIdImg.classList.add('table-head__icon');\n    headThFullname.classList.add('table-head__cells', 'table-head_fullname', 'table__column_sort');\n    headThFullnameTitle.classList.add('head-fullname__title');\n    headThFullnameImg.classList.add('table-head__icon', 'rotate_180');\n    headThFullnameDescr.classList.add('head-fullname__descr');\n    headThCreatedate.classList.add('table-head__cells', 'table-head_createdate', 'table__column_sort');\n    headThCreatedateTitle.classList.add('head-createdate__title');\n    headThCreatedateImg.classList.add('table-head__icon', 'rotate_180');\n    headThUpdatedate.classList.add('table-head__cells', 'table-head_updatedate', 'table__column_sort');\n    headThUpdatedateTitle.classList.add('head-updatedate__title');\n    headThUpdatedateImg.classList.add('table-head__icon', 'rotate_180');\n    headThContacts.classList.add('table-head__cells');\n    headThActions.classList.add('table-head__cells', 'table-head_actions');\n\n    title.innerText = 'Клиенты';\n    headThId.setAttribute('id', 'id');\n    headThIdTitle.innerText = 'ID';\n    headThFullname.setAttribute('id', 'fullname');\n    headThFullnameTitle.innerText = 'Фамилия Имя Отчество';\n    headThFullnameDescr.innerText = 'А-Я';\n    headThCreatedate.setAttribute('id', 'createdAt');\n    headThCreatedateTitle.innerText = 'Дата и время создания';\n    headThUpdatedate.setAttribute('id', 'updatedAt');\n    headThUpdatedateTitle.innerText = 'Последние изменения';\n    headThContacts.setAttribute('id', 'contacts');\n    headThContacts.innerText = 'Контакты';\n    headThActions.setAttribute('id', 'actions');\n    headThActions.innerText = 'Действия';\n\n    headThId.append(headThIdTitle);\n    headThId.append(headThIdImg);\n    headThFullname.append(headThFullnameTitle);\n    headThFullname.append(headThFullnameImg);\n    headThFullname.append(headThFullnameDescr);\n    headThCreatedate.append(headThCreatedateTitle);\n    headThCreatedate.append(headThCreatedateImg);\n    headThUpdatedate.append(headThUpdatedateTitle);\n    headThUpdatedate.append(headThUpdatedateImg);\n\n    headTr.append(headThId);\n    headTr.append(headThFullname);\n    headTr.append(headThCreatedate);\n    headTr.append(headThCreatedate);\n    headTr.append(headThUpdatedate);\n    headTr.append(headThContacts);\n    headTr.append(headThActions);\n\n    thead.append(headTr);\n    table.append(thead);\n    tableBox.append(table);\n\n    main.append(title);\n    main.append(tableBox);\n\n    return {\n      main,\n      tableBox,\n      tr: headTr,\n    };\n  };\n\n  // Создаем контейнер тела таблицы и оверлей\n  function createTableBody() {\n    const tableBody = document.createElement('div');\n    const overlay = document.createElement('div');\n    const overlayRing = document.createElement('div');\n    const table = document.createElement('table');\n    const tbody = document.createElement('tbody');\n\n    tableBody.classList.add('table-body');\n    overlay.classList.add('table-body__overlay', 'blocked');\n    overlayRing.classList.add('table-body__ring');\n    table.classList.add('table', 'data-table');\n\n    overlay.append(overlayRing);\n    table.append(tbody);\n    tableBody.append(overlay);\n    tableBody.append(table);\n\n    return {\n      tableBody,\n      overlay,\n    }\n  }\n\n  // Создаем кнопку добавления клинета\n  function createAddClientButton() {\n    const buttonWrapper = document.createElement('div');\n    const button = document.createElement('button');\n    const text = document.createElement('span');\n    const icon = document.createElement('span');\n\n    buttonWrapper.classList.add('add-client');\n    button.classList.add('add-client__btn', 'btn');\n    icon.classList.add('add-client__icon');\n    text.innerText = 'Добавить клиента';\n\n    button.append(icon);\n    button.append(text);\n    buttonWrapper.append(button);\n\n    return {\n      wrapper: buttonWrapper,\n      button,\n    };\n  };\n\n  // Вставляем данные в таблицу\n  function insertClientsData({ columnOfSort, stateOfSort, clients }) {\n    const tbodyElement = document.querySelector('tbody');\n    const { id: typeSortingById, fullname: typeSortingByFullname, createdAt: typeSortingByCreatedAt, updatedAt: typeSortingByUpdatedAt } = stateOfSort;\n\n    let sortedClients = [];\n\n    switch (columnOfSort) {\n      case 'fullname':\n        sortedClients = sortClientsByFullname(clients, typeSortingByFullname);\n        break;\n      case 'createdAt':\n        sortedClients = sortClientsByDate(clients, columnOfSort, typeSortingByCreatedAt);\n        break;\n      case 'updatedAt':\n        sortedClients = sortClientsByDate(clients, columnOfSort, typeSortingByUpdatedAt);\n        break;\n      default:\n        sortedClients = sortClientsById(clients, typeSortingById);\n    };\n\n    // Очищаю данные о клиентах\n    tbodyElement.innerHTML = '';\n\n    markColumnOfSort(columnOfSort, stateOfSort);\n\n    // Вставляю данные о клиентах в таблицу\n    sortedClients.forEach(function (client) {\n      tbodyElement.append(createRowWithClientData(client));\n    });\n\n    // Разворот комбинированных контактов\n    showAllContacts(tbodyElement);\n\n    // Удаление клиента из таблицы\n    const deleteClientButtons = tbodyElement.querySelectorAll('.delete-btn');\n    deleteClientButtons.forEach(function (deleteClientbutton) {\n      deleteClientbutton.addEventListener('click', async function () {\n        const clientId = this.dataset.id;\n        // Установил тип окна для модалки \n        modalWindowStructure.type = 'delete';\n        // получил данные из базы о клиенте с id\n        const client = await fetchGetClientById(this.dataset.id);\n        // Вызвал модалку\n        createModalWindow(client, modalWindowStructure);\n      });\n    });\n\n    // Изменить клиента из таблицы\n    const changeClientButtons = tbodyElement.querySelectorAll('.edit-btn');\n    changeClientButtons.forEach(function (changeClientButton) {\n      changeClientButton.addEventListener('click', async function () {\n        const clientId = this.dataset.id;\n        const iconElement = changeClientButton.querySelector('.edit-btn__icon');\n        // Установил тип окна для модалки \n        modalWindowStructure.type = 'change';\n        iconElement.classList.add('load__icon');\n        // получил данные из базы о клиенте с id\n        const client = await fetchGetClientById(clientId);\n        iconElement.classList.remove('load__icon');\n        // Вызвал модалку\n        createModalWindow(client, modalWindowStructure);\n        document.location.hash = 'id_' + clientId;\n        // };\n      });\n    });\n  };\n\n  // Создаем строку в таблице с данными клиента\n  function createRowWithClientData(client) {\n    const tr = document.createElement('tr');\n    const tdId = document.createElement('td');\n    const tdFullname = document.createElement('td');\n    const tdCreateDate = document.createElement('td');\n    const wrapCreateDate = document.createElement('div');\n    const createDate = document.createElement('span');\n    const createTime = document.createElement('span');\n    const tdUpdateDate = document.createElement('td');\n    const wrapUpdateDate = document.createElement('div');\n    const updateDate = document.createElement('span');\n    const updateTime = document.createElement('span');\n    const tdContacts = document.createElement('td');\n    const ulContacts = createContactList(client.contacts);\n    const tdActions = document.createElement('td');\n    const wrapActions = document.createElement('div');\n    const buttonEdit = document.createElement('button');\n    const buttonEditImg = document.createElement('span');\n    const buttonEditText = document.createElement('span');\n    const buttonDelete = document.createElement('button');\n    const buttonDeleteImg = document.createElement('span');\n    const buttonDeleteText = document.createElement('span');\n\n    tr.classList.add('table__row');\n    tdId.classList.add('row__cells', 'body-cells_id');\n    tdFullname.classList.add('row__cells', 'body-cells_fullname');\n    tdCreateDate.classList.add('row__cells');\n    wrapCreateDate.classList.add('cell-create__wrapper');\n    createDate.classList.add('cell-create__date');\n    createTime.classList.add('cell-create__time');\n    tdUpdateDate.classList.add('row__cells');\n    wrapUpdateDate.classList.add('cell-update__wrapper');\n    updateDate.classList.add('cell-update__date');\n    updateTime.classList.add('cell-update__time');\n    tdContacts.classList.add('row__cells');\n    tdActions.classList.add('row__cells');\n    wrapActions.classList.add('actions__wrapper');\n    buttonEdit.classList.add('edit-btn', 'btn');\n    buttonEditImg.classList.add('actions-btn__icon', 'edit-btn__icon');\n    buttonEditText.classList.add('edit-btn__text');\n    buttonDelete.classList.add('delete-btn', 'btn');\n    buttonDeleteImg.classList.add('actions-btn__icon', 'delete-btn__icon');\n    buttonDeleteText.classList.add('delete-btn__text');\n\n    tr.setAttribute('id', client.id); // Для поиска клиентов в таблице и скролла к ним\n    buttonEdit.setAttribute('data-id', client.id);\n    buttonDelete.setAttribute('data-id', client.id);\n\n    tdId.innerText = client.id.slice(-6);\n    tdFullname.innerText = `${client.surname.trim()} ${client.name.trim()} ${client.lastName.trim()}`;\n    createDate.innerText = formatDate(client.createdAt);\n    createTime.innerText = formatTime(client.createdAt);\n    updateDate.innerText = formatDate(client.updatedAt);\n    updateTime.innerText = formatTime(client.updatedAt);\n    buttonEditText.innerText = 'Изменить';\n    buttonDeleteText.innerText = 'Удалить';\n\n    wrapCreateDate.append(createDate);\n    wrapCreateDate.append(createTime);\n    tdCreateDate.append(wrapCreateDate);\n\n    wrapUpdateDate.append(updateDate);\n    wrapUpdateDate.append(updateTime);\n    tdUpdateDate.append(wrapUpdateDate);\n    tdContacts.append(ulContacts);\n    buttonEdit.append(buttonEditImg);\n    buttonEdit.append(buttonEditText);\n    buttonDelete.append(buttonDeleteImg);\n    buttonDelete.append(buttonDeleteText);\n    wrapActions.append(buttonEdit);\n    wrapActions.append(buttonDelete);\n    tdActions.append(wrapActions);\n\n    tr.append(tdId);\n    tr.append(tdFullname);\n    tr.append(tdCreateDate);\n    tr.append(tdUpdateDate);\n    tr.append(tdContacts);\n    tr.append(tdActions);\n\n    return tr;\n  }\n\n  // Получаем дату из json\n  function formatDate(str) {\n    return str.slice(8, 10) + '.' + str.slice(5, 7) + '.' + str.slice(0, 4);\n  }\n\n  // Получаем время из json\n  function formatTime(str) {\n    return str.slice(11, 16);\n  }\n\n  // Создаем список контактов клиента\n  function createContactList(contacts) {\n    const ul = document.createElement('ul');\n    ul.classList.add('contacts__list');\n    const amountOfContacts = contacts.length;\n    let visible = true;\n\n    contacts.forEach(function (contact, index) {\n      if (index === 4 && amountOfContacts > 5) {\n        const li = document.createElement('li');\n        const span = document.createElement('span');\n        li.classList.add('contacts__item');\n        span.classList.add('contacts__icon_ring');\n        li.setAttribute('id', 'comb');\n        span.setAttribute('data-value', 'Развернуть');\n        span.innerText = '+' + (amountOfContacts - 1 - index);\n        li.append(span);\n        ul.append(li);\n        visible = false;\n      }\n\n      ul.append(createContactItem(contact, visible));\n    });\n\n    return ul;\n  };\n\n  // Функция создает li элемент для иконок списка контактов\n  function createContactItem(contact, visible) {\n    const li = document.createElement('li');\n    const img = document.createElement('img');\n\n    li.classList.add('contacts__item');\n    if (!visible) {\n      li.classList.add('blocked');\n    };\n    img.classList.add('contacts__icon');\n\n    if (contact.type === 'Другое') {\n      img.setAttribute('data-type', '');\n    } else {\n      img.setAttribute('data-type', contact.type + ':');\n    };\n    img.setAttribute('data-value', contact.value);\n\n\n    switch (contact.type) {\n      case 'Телефон':\n        img.setAttribute('src', './img/phone.svg');\n        img.setAttribute('alt', 'Телефон');\n        break;\n      case 'Facebook':\n        img.setAttribute('src', './img/fb.svg');\n        img.setAttribute('alt', 'Фэйсбук');\n        break;\n      case 'VK':\n        img.setAttribute('src', './img/vk.svg');\n        img.setAttribute('alt', 'В контактах');\n        break;\n      case 'Email':\n        img.setAttribute('src', './img/mail.svg');\n        img.setAttribute('alt', 'Имэйл');\n        break;\n      default:\n        img.setAttribute('src', './img/other.svg');\n        img.setAttribute('alt', 'Другое');\n    };\n\n    li.append(img);\n\n    return li;\n  };\n\n  // ======= Функции активностей в таблице\n  // Сортировка данных в таблице в первом аргументе объект, во втоом tableHead.tr\n  function sortDataInTable(clientsState, tableHeadElement) {\n    const thElements = tableHeadElement.querySelectorAll('.table__column_sort');\n    thElements.forEach(function (thElement) {\n      thElement.addEventListener('click', function () {\n        clientsState.columnOfSort = thElement.id;\n        if (clientsState.stateOfSort[thElement.id]) {\n          clientsState.stateOfSort[thElement.id] = false;\n        } else {\n          clientsState.stateOfSort[thElement.id] = true;\n        };\n        insertClientsData(clientsState);\n      });\n    });\n  };\n\n  // Сорировка списка клиентов по полю ID\n  function sortClientsById(clients, ascending) {\n    if (ascending) {\n      return clients.sort(function (a, b) {\n        return a.id > b.id ? 1 : -1;\n      });\n    };\n    return clients.sort(function (a, b) {\n      return a.id < b.id ? 1 : -1;\n    });\n  };\n\n  // Сортировка списка клиентов по полю Ф.И.О.\n  function sortClientsByFullname(clients, ascending) {\n    if (ascending) {\n      return clients.sort(function (a, b) {\n        return a.surname.trim().toLowerCase() + a.name.trim().toLowerCase() + a.lastName.trim().toLowerCase() < b.surname.trim().toLowerCase() + b.name.trim().toLowerCase() + b.lastName.trim().toLowerCase() ? 1 : -1;\n      });\n    };\n    return clients.sort(function (a, b) {\n      return a.surname.trim().toLowerCase() + a.name.trim().toLowerCase() + a.lastName.trim().toLowerCase() > b.surname.trim().toLowerCase() + b.name.trim().toLowerCase() + b.lastName.trim().toLowerCase() ? 1 : -1;\n    });\n  };\n\n  // Сорировка списка клиентов по полю Дата и время создания\n  function sortClientsByDate(clients, field, ascending) {\n    if (ascending) {\n      return clients.sort(function (a, b) {\n        return new Date(a[field]).getTime() > new Date(b[field]).getTime() ? 1 : -1;\n      });\n    };\n    return clients.sort(function (a, b) {\n      return new Date(a[field]).getTime() < new Date(b[field]).getTime() ? 1 : -1;\n    });\n  };\n\n  // Маркировка столбца сортировки\n  function markColumnOfSort(columnOfSort, stateOfSort) {\n    const columns = document.querySelectorAll('.table__column_sort');\n    columns.forEach(function (column) {\n      if (column.id === columnOfSort) {\n        column.childNodes[0].classList.add('color_light-slate-blue');\n      } else {\n        column.childNodes[0].classList.remove('color_light-slate-blue')\n      };\n      if (stateOfSort[column.id]) {\n        column.childNodes[1].classList.remove('rotate_180');\n        if (column.id === 'fullname') {\n          column.childNodes[2].innerText = 'Я-А';\n        };\n      } else {\n        column.childNodes[1].classList.add('rotate_180');\n        if (column.id === 'fullname') {\n          column.childNodes[2].innerText = 'А-Я';\n        };\n      };\n    });\n  };\n\n  // Показываю тултипы [data-type] и [data-value]\n  function showTooltips() {\n    let tooltipElememt;\n    let tooltipTypeElement;\n    let tooltipValueElement;\n    document.addEventListener('mouseover', function (event) {\n      let target = event.target;\n      let tooltipType = target.dataset.type;\n      let tooltipValue = target.dataset.value;\n\n      if (!tooltipType && !tooltipValue) return;\n\n      tooltipElememt = document.createElement('div');\n      tooltipValueElement = document.createElement('span');\n\n      tooltipElememt.classList.add('tooltip');\n      tooltipValueElement.classList.add('tooltip__value');\n\n      if (tooltipType) {\n        tooltipTypeElement = document.createElement('span');\n        tooltipTypeElement.classList.add('tooltip__title');\n        tooltipTypeElement.innerText = tooltipType;\n        tooltipElememt.append(tooltipTypeElement);\n        tooltipValueElement.classList.add('color_light-slate-blue');\n      };\n\n      tooltipValueElement.innerText = tooltipValue;\n\n      tooltipElememt.append(tooltipValueElement);\n      document.body.append(tooltipElememt);\n\n      let coords = target.getBoundingClientRect();\n\n      let left = coords.left + (target.offsetWidth - tooltipElememt.offsetWidth) / 2;\n      if (left < 0) left = 0;\n\n      let top = coords.top - tooltipElememt.offsetHeight - 10;\n      if (top < 0) { // если подсказка не помещается сверху, то отображать её снизу\n        top = coords.top + target.offsetHeight + 10;\n      };\n\n      tooltipElememt.style.left = left + 'px';\n      tooltipElememt.style.top = top + 'px';\n      tooltipElememt.style.opacity = 1;\n    });\n\n    document.addEventListener('mouseout', function () {\n      if (tooltipElememt) {\n        tooltipElememt.remove();\n        tooltipElememt = null;\n      };\n    });\n  };\n\n  // Показываю все контакты клинета по нажатию на Comb кнопку\n  function showAllContacts(tbodyElement) {\n    const combElements = tbodyElement.querySelectorAll('#comb');\n    combElements.forEach(function (combElement) {\n      combElement.addEventListener('click', function () {\n        const contactsElements = combElement.parentNode.querySelectorAll('.contacts__item');\n        contactsElements.forEach(function (contactsElement) {\n          if (contactsElement.id) {\n            contactsElement.classList.add('blocked');\n          } else {\n            contactsElement.classList.remove('blocked');\n          };\n        });\n      });\n    });\n  };\n\n  // ========= Отрисовка модального окна\n  // Собираю модалку\n  function createModalWindow(client, modalWindowStructure) {\n    const { id, surname, name, lastName, contacts } = client;\n    const { type: typeOfModal, buttonSubmit: buttonSubmitText, button: buttonSmallText } = modalWindowStructure;\n\n    // Создал контейнер\n    const modal = document.createElement('div');\n    const wrapper = document.createElement('div');\n    const buttonWindowClose = document.createElement('span');\n\n    modal.classList.add('modal');\n    wrapper.classList.add('modal__wrapper');\n    buttonWindowClose.classList.add('modal__close');\n    buttonWindowClose.setAttribute('data-btn', 'close');\n\n    wrapper.append(buttonWindowClose);\n\n    // Создал шапку модалки header элемент\n    // ID передаём только в модалку по изменению данных клиента\n    let idValue = null;\n    if (typeOfModal === 'change') {\n      idValue = id;\n    };\n\n    const headerElement = createHeadOfModal(modalWindowStructure.headTitle(), idValue);\n    wrapper.append(headerElement.header); //вставил шапку\n\n    // Создал контейнер формы\n    const formElement = document.createElement('form');\n    formElement.classList.add('modal__form');\n    formElement.setAttribute('action', '#');\n\n    // Создал Блок ошибок\n    const blockError = createErrorForModal();\n\n    // Создал части формы\n    if (typeOfModal !== 'delete') {\n      // Создал Блок с ФИО клиента\n      const clietntNameElement = createClientNameForModal(surname, name, lastName);\n      formElement.append(clietntNameElement);\n\n      // Создал Блок с контактами клиента\n      const { fieldsetContacts, buttonAddContactElement, wrapperContacts } = createClientContactsForModal(contacts);\n      formElement.append(fieldsetContacts);\n      wrapper.append(formElement);\n\n      // Добавил переключатель активна/неактивна кнопка \"Добавить контакт\" (по кол-ву контактов)\n      disabledButtonAddContact(buttonAddContactElement, fieldsetContacts);\n\n      // Добавление нового клиента при нажатии на кнопку\n      addNewContact(buttonAddContactElement, wrapperContacts);\n\n      // Удаление контакта клиента при нажатии на кнопку\n      deleteContact(buttonAddContactElement, wrapperContacts);\n\n      // Добавил переключатель активна/неактивна кнопка \"Удалить контакт\" при условии наличия данных в инпуте \n      checkValueInInputs(wrapperContacts);\n\n      // Добавил Блок Ошибок\n      wrapper.append(blockError.wrapperError);\n\n    } else {\n      // Добавил Блок Ошибок\n      wrapper.append(blockError.wrapperError);\n      // Показал его\n      blockError.wrapperError.classList.remove('blocked');\n      // Записал значение ошибки/предупреждения\n      blockError.spanError.textContent = 'Вы действительно хотите удалить данного клиента?';\n      // Меняем цвет блока ошибок\n      blockError.spanError.classList.add('modal-error__text-style');\n      // Выравнивание заголовка шапки посредине\n      headerElement.header.classList.add('align-center', 'modal-header-margin-bottom');\n      headerElement.headerTitle.classList.add('modal-header__heading-padding-top');\n    };\n\n    // Создал блок кнопок\n    const buttonsElement = createButtonsForModal(modalWindowStructure.buttonSubmit(), modalWindowStructure.button());\n    wrapper.append(buttonsElement.wrapperButtons);\n\n    modal.append(wrapper);\n    document.body.append(modal);\n\n    // Обработчики событий\n    // Нажатие на Esc\n    document.addEventListener('keydown', function (event) {\n      if (event.code == \"Escape\") {\n        onClose(modal, wrapper);\n      };\n    });\n\n    // Клик на иконку закрытия окна\n    buttonWindowClose.addEventListener('click', function () {\n      onClose(modal);\n    });\n\n    // Клик на оверлей\n    modal.addEventListener('click', function (event) {\n      if (!event.target.classList.contains('modal')) {\n        return;\n      }\n      onClose(modal);\n    });\n\n    // Клик на большую кнопку\n    buttonsElement.buttonSubmit.addEventListener('click', async function () {\n      // e.preventDefault(); TODO как сделать submit?\n      if (typeOfModal == 'delete') {\n        onDelete(id, modal); // Удаляем клиента из базы по ID\n      } else {\n        // Собираем данные из формы здесь же можно установить в disabled\n        const clientValues = getValuesFromModal(modal);\n\n        // Есть ли ошибки при заполнении формы?\n        if (!clientValues.textError) {\n          const iconButtonSubmit = buttonsElement.buttonSubmit.querySelector('.submit-btn__icon');\n          // Ставим лоадер на кнопку\n          iconButtonSubmit.classList.add('upload_visible');\n          // Устанавливаем disabled на форму\n          setDisabledOnElementsOfForm(modal, true);\n          if (typeOfModal == 'new') {\n            await onSave(clientValues, modal);\n          } else if (typeOfModal == 'change') {\n            await onUpdate(clientValues, idValue, modal);\n          };\n          //Убираем лоадер с кнопки\n          iconButtonSubmit.classList.remove('upload_visible');\n          // Снимаем disabled\n          setDisabledOnElementsOfForm(modal, false);\n        } else {\n          blockError.wrapperError.classList.remove('blocked');\n          blockError.spanError.innerHTML = clientValues.textError;\n        }\n      };\n    });\n\n    // Клик на маленькую кнопку\n    buttonsElement.buttonSmall.addEventListener('click', function () {\n      if (typeOfModal !== 'change') {\n        onClose(modal);\n      } else {\n        onDelete(id, modal); // Удаляем клиента из базы по ID\n      };\n    });\n\n    // Добавил открытие дропдауна при нажатии на кнопку\n    showDropDown(modal);\n\n    const timeoutId = setTimeout(function () {\n      modal.classList.add(VISIBLE_CSS);\n      wrapper.classList.add(VISIBLE_CSS);\n    }, 100);\n\n    return modal;\n  };\n\n  // Проверка наличия контактов и добавления в блок паддингов\n  function setPaddingToContacrsWrap() {\n    const contactsWrap = document.querySelector('.modal-contacts');\n    if (contactsWrap) {\n      const contactsElements = contactsWrap.querySelectorAll('.modal-contacts__item');\n      if (!contactsElements.length) {\n        contactsWrap.classList.remove('modal-contacts_padding');\n      } else {\n        contactsWrap.classList.add('modal-contacts_padding');\n      };\n    }; \n  };\n\n\n  // Шапка модалки\n  function createHeadOfModal(title, idValue) {\n    const header = document.createElement('div');\n    const headerTitle = document.createElement('h2');\n\n    header.classList.add('modal__header', 'modal__container');\n    headerTitle.classList.add('modal-header__heading');\n\n    headerTitle.textContent = title;\n\n    header.append(headerTitle);\n\n    if (idValue) {\n      const headerInfo = document.createElement('span');\n      headerInfo.classList.add('modal-header__id');\n      headerInfo.innerText = `ID: ${idValue.slice(-6)}`;\n      header.append(headerInfo);\n    }\n\n    return {\n      header,\n      headerTitle,\n    };\n  };\n\n  // Создал часть формы с ФИО клиента\n  function createClientNameForModal(surname, name, lastName) {\n    const fieldsetClientName = document.createElement('fieldset');\n    const wrapperClientName = document.createElement('div');\n    const wrapperSurname = document.createElement('div');\n    const inputSurname = document.createElement('input');\n    const lableSurname = document.createElement('lable');\n    const asterixSurname = document.createElement('span');\n    const wrapperName = document.createElement('div');\n    const inputName = document.createElement('input');\n    const lableName = document.createElement('lable');\n    const asterixName = document.createElement('span');\n    const wrapperLastname = document.createElement('div');\n    const inputLastname = document.createElement('input');\n    const lableLastname = document.createElement('lable');\n\n    fieldsetClientName.classList.add('fieldset_reset', 'modal-fullname');\n    wrapperClientName.classList.add('modal__container', 'modal-contaiter_position_flex');\n\n    wrapperSurname.classList.add('inputs__wrap');\n    inputSurname.classList.add('input', 'modal__intup');\n    lableSurname.classList.add('modal__lable');\n    asterixSurname.classList.add('lable_asterix');\n    wrapperName.classList.add('inputs__wrap');\n    inputName.classList.add('input', 'modal__intup');\n    lableName.classList.add('modal__lable');\n    asterixName.classList.add('lable_asterix');\n    wrapperLastname.classList.add('inputs__wrap');\n    inputLastname.classList.add('input', 'modal__intup');\n    lableLastname.classList.add('modal__lable');\n\n    inputSurname.setAttribute('id', 'surname');\n    inputSurname.setAttribute('data-input', 'surname');\n    inputSurname.setAttribute('type', 'text');\n    inputSurname.setAttribute('name', 'surname');\n    lableSurname.setAttribute('for', 'surname');\n    inputName.setAttribute('id', 'name');\n    inputName.setAttribute('data-input', 'name');\n    inputName.setAttribute('type', 'text');\n    inputName.setAttribute('name', 'name');\n    lableName.setAttribute('for', 'name');\n    inputLastname.setAttribute('id', 'lastname');\n    inputLastname.setAttribute('data-input', 'lastname');\n    inputLastname.setAttribute('type', 'text');\n    inputLastname.setAttribute('name', 'lastname');\n    lableLastname.setAttribute('for', 'lastname');\n\n    lableSurname.textContent = 'Фамилия';\n    asterixSurname.textContent = '*';\n    lableName.textContent = 'Имя';\n    asterixName.textContent = '*';\n    lableLastname.textContent = 'Отчество';\n\n    if (surname) {\n      lableSurname.classList.add('modal__lable_up');\n      inputSurname.value = surname;\n    };\n\n    if (name) {\n      lableName.classList.add('modal__lable_up');\n      inputName.value = name;\n    };\n\n    if (lastName) {\n      lableLastname.classList.add('modal__lable_up');\n      inputLastname.value = lastName;\n    };\n\n    lableSurname.append(asterixSurname);\n    lableName.append(asterixName);\n\n    wrapperSurname.append(lableSurname);\n    wrapperSurname.append(inputSurname);\n    wrapperName.append(lableName);\n    wrapperName.append(inputName);\n    wrapperLastname.append(lableLastname);\n    wrapperLastname.append(inputLastname);\n\n    wrapperClientName.append(wrapperSurname);\n    wrapperClientName.append(wrapperName);\n    wrapperClientName.append(wrapperLastname);\n\n    fieldsetClientName.append(wrapperClientName);\n\n    // Навешиваю обработчики на inputs для сброса стилизации ошибок\n    inputSurname.addEventListener('input', function () {\n      inputSurname.parentNode.classList.remove('border-color_burnt-sienna');\n    });\n\n    inputName.addEventListener('input', function () {\n      inputName.parentNode.classList.remove('border-color_burnt-sienna');\n    });\n\n\n    // Подъем lables\n    showInpunsUnderLables(wrapperClientName);\n\n    return fieldsetClientName;\n  }\n\n  // Функция подъёма label если фокус на input\n  function showInpunsUnderLables(wrapperClientName) {\n    const inputs = wrapperClientName.querySelectorAll('.inputs__wrap');\n    inputs.forEach(addListenersOnInput);\n  };\n\n  // Добавил обработчики событий на инпут \n  function addListenersOnInput(input) {\n    const inputElement = input.querySelector('.modal__intup');\n    const lableElement = input.querySelector('.modal__lable');\n    inputElement.addEventListener('focus', function () {\n      lableElement.classList.add('modal__lable_up');\n    });\n    inputElement.addEventListener('blur', function () {\n      if (!inputElement.value) {\n        lableElement.classList.remove('modal__lable_up');\n      };\n    });\n  };\n\n  // Создал часть формы с контактами клиента\n  function createClientContactsForModal(contacts) {\n    const fieldsetContacts = document.createElement('fieldset');\n    const wrapperContacts = document.createElement('div');\n    const listOfContacts = document.createElement('ul');\n\n    fieldsetContacts.classList.add('modal-contacts', 'fieldset_reset');\n    wrapperContacts.classList.add('modal__container');\n    listOfContacts.classList.add('modal-contacts__list');\n\n    wrapperContacts.append(listOfContacts);\n\n    if (contacts) {\n      contacts.forEach(function (contact) {\n        const contactItem = createContactForModal(contact);\n        listOfContacts.append(contactItem);\n      });\n    };\n\n    // Стилизация блока контактов\n    setTimeout(setPaddingToContacrsWrap, 300);\n\n    // Кнопка добавить клиента    \n    const buttonAddContactElement = createButtonAddContactForModal();\n    fieldsetContacts.append(wrapperContacts);\n    fieldsetContacts.append(buttonAddContactElement);\n\n    return {\n      fieldsetContacts,\n      buttonAddContactElement,\n      wrapperContacts,\n    };\n  };\n\n  // Создал элемент списка контактов с кнопкой \"Удалить\"\n  function createContactForModal(contact) {\n    const contactItem = document.createElement('li');\n    const wrapContactType = document.createElement('div');\n    const buttonContactType = document.createElement('button');\n    const listContactTypeDropdown = document.createElement('ul');\n    const inputContactValue = document.createElement('input');\n    const buttonContactDelete = document.createElement('button');\n    const buttonContactDeleteIcon = document.createElement('span');\n\n    contactItem.classList.add('modal-contacts__item');\n    wrapContactType.classList.add('contacts-type');\n    buttonContactType.classList.add('contact-type__button', 'btn');\n    listContactTypeDropdown.classList.add('contact-type__list');\n    inputContactValue.classList.add('input', 'contact-value', 'contact-value_border-right');\n    inputContactValue.setAttribute('type', 'text');\n    inputContactValue.setAttribute('placeholder', 'Введите данные контакта');\n    buttonContactDelete.classList.add('delete-contact__btn', 'btn', 'blocked');\n    buttonContactDeleteIcon.classList.add('delete-contact__icon');\n\n    buttonContactType.textContent = 'Тип контакта';\n\n    contactsTypes.forEach(function (contactsType) {\n      const item = document.createElement('li');\n      item.classList.add('contact-type__item');\n      item.textContent = contactsType;\n      listContactTypeDropdown.append(item);\n    })\n\n    if (contact) {\n      buttonContactType.textContent = contact.type;\n      inputContactValue.value = contact.value;\n      buttonContactDelete.classList.remove('blocked');\n    };\n\n    buttonContactDelete.append(buttonContactDeleteIcon);\n\n    wrapContactType.append(buttonContactType);\n    wrapContactType.append(listContactTypeDropdown);\n\n    contactItem.append(wrapContactType);\n    contactItem.append(inputContactValue);\n    contactItem.append(buttonContactDelete);\n\n    // Вешаю на ipnut слушателя чтобы убрать стили сигнализации об ошибке\n    inputContactValue.addEventListener('input', function () {\n      inputContactValue.classList.remove('border-color_burnt-sienna');\n    });\n\n    return contactItem;\n  };\n\n  // Создал кнопку добавления контакта \n  function createButtonAddContactForModal() {\n    const buttonAddContact = document.createElement('button');\n    const buttonAddContactIcon = document.createElement('span');\n    const buttonAddContactTitle = document.createElement('span');\n\n    buttonAddContact.classList.add('modal-addcontact__btn', 'btn', VISIBLE_CSS);\n    buttonAddContactIcon.classList.add('modal-addcontact__icon');\n    buttonAddContactTitle.classList.add('modal-addcontact__title');\n\n    buttonAddContact.setAttribute('data-btn', 'contact-add');\n    buttonAddContactTitle.textContent = 'Добавить контакт';\n\n    buttonAddContact.append(buttonAddContactIcon);\n    buttonAddContact.append(buttonAddContactTitle);\n\n    return buttonAddContact;\n  }\n\n  // Создал блок с выводом ошибок и др. инфорации\n  function createErrorForModal() {\n    const wrapperError = document.createElement('div');\n    const spanError = document.createElement('span');\n\n    wrapperError.classList.add('modal-error', 'blocked');\n    spanError.classList.add('modal-error__text');\n\n    wrapperError.classList.remove('blocked');\n\n    wrapperError.append(spanError);\n\n    return {\n      wrapperError,\n      spanError,\n    };\n  };\n\n  // Создал блок кнопок модалки\n  function createButtonsForModal(submitTitle, smallTitle) {\n    const wrapperButtons = document.createElement('div');\n    const buttonSubmit = document.createElement('button');\n    const buttonSubmitIcon = document.createElement('span');\n    const buttonSubmitTitle = document.createElement('span');\n    const buttonSmall = document.createElement('button');\n\n    wrapperButtons.classList.add('modal-btns');\n    buttonSubmit.classList.add('submit-btn', 'btn');\n    buttonSubmitIcon.classList.add('submit-btn__icon');\n    buttonSubmitTitle.classList.add('submit-btn__title');\n\n    buttonSmall.classList.add('modal-delete-btn', 'btn');\n\n    buttonSubmit.setAttribute('data-btn', 'submit');\n    buttonSmall.setAttribute('data-btn', 'small');\n\n\n    buttonSubmitTitle.textContent = submitTitle;\n    buttonSmall.textContent = smallTitle;\n\n    buttonSubmit.append(buttonSubmitIcon);\n    buttonSubmit.append(buttonSubmitTitle);\n    wrapperButtons.append(buttonSubmit);\n    wrapperButtons.append(buttonSmall);\n\n    return {\n      wrapperButtons,\n      buttonSubmit,\n      buttonSmall,\n    };\n  };\n\n  // Считаю количество контактов если 10 деактивируем кнопку Добавить контакт\n  function disabledButtonAddContact(buttonAddContact, wrapper) {\n    const items = wrapper.querySelectorAll('.modal-contacts__item');\n    if (items.length >= 10) {\n      buttonAddContact.classList.remove(VISIBLE_CSS);\n    } else {\n      buttonAddContact.classList.add(VISIBLE_CSS);\n    };\n  };\n\n  //Развернул дропдаун\n  function showDropDown(modalElement) {\n    const dropdowns = modalElement.querySelectorAll('.contacts-type');\n\n    dropdowns.forEach(function (dropdown) {\n      setEventsOnDropdown(dropdown)\n    });\n  };\n\n  // Добавление слушателей к элементам дропдауна\n  function setEventsOnDropdown(dropdown) {\n    const buttonDropdown = dropdown.querySelector('.contact-type__button');\n    const listDropdown = dropdown.querySelector('.contact-type__list');\n    const itemsDropdown = listDropdown.querySelectorAll('.contact-type__item');\n\n    // Отслеживаем клик на кнопке (открыть/закрыть список)\n    buttonDropdown.addEventListener('click', function (event) {\n      event.preventDefault();\n      listDropdown.classList.toggle('contact-type__list_visible');\n      buttonDropdown.classList.toggle('contact-type__button_rotate');\n    });\n\n    // Отслеживаем клик по элементам списка и присваивание значения кнопке\n    itemsDropdown.forEach(function (item) {\n      item.addEventListener('click', function (event) {\n        event.stopPropagation();\n        // Удаляю стили индикации об ошибке\n        buttonDropdown.classList.remove('border-color_burnt-sienna');\n        buttonDropdown.textContent = this.innerText;\n        buttonDropdown.focus();\n        hidenDropdown(listDropdown, buttonDropdown);\n      });\n    });\n\n    // Клик снаружи дропдауна. Закрыть дропдаун\n    document.addEventListener('click', function (event) {\n      if (event.target !== buttonDropdown) {\n        hidenDropdown(listDropdown, buttonDropdown);\n      };\n    });\n\n    // Нажатие на Таб или Эскейп. Закрыть дропдаун\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Tab' || event.key === 'Escape') {\n        hidenDropdown(listDropdown, buttonDropdown);\n      };\n    });\n  };\n\n  // В функции setEventsOnDropdown повторение кода - удаление свойст показа списка дропдауна\n  function hidenDropdown(listDropdown, buttonDropdown) {\n    listDropdown.classList.remove('contact-type__list_visible');\n    buttonDropdown.classList.remove('contact-type__button_rotate');\n  };\n\n  // Добавление события ввода данных в инпуты контактов\n  function checkValueInInputs(modalElement) {\n    const contacts = modalElement.querySelectorAll('.modal-contacts__item');\n    contacts.forEach(function (contact) {\n      setEventsOnInput(contact);\n    });\n  };\n\n  // В функции checkValueInInputs повторение кода - установка видимости кнопки \"Удалить контакт\"\n  function setEventsOnInput(element) {\n    const buttonDeleteContact = element.querySelector('.delete-contact__btn');\n    const inputContact = element.querySelector('.contact-value');\n\n    element.addEventListener('input', function (event) {\n      event.stopPropagation();\n      if (inputContact.value) {\n        buttonDeleteContact.classList.remove('blocked');\n      } else {\n        buttonDeleteContact.classList.add('blocked');\n      };\n    });\n  };\n\n  // Добавляем новый контакт клиенту\n  function addNewContact(buttonAddContact, wrapperContacts) {\n    const listContacts = wrapperContacts.querySelector('.modal-contacts__list');\n    buttonAddContact.addEventListener('click', function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      const contactItem = createContactForModal('');\n      listContacts.append(contactItem);\n\n      // Стилизация блока контактов\n      setPaddingToContacrsWrap();\n\n      // Добавил новому элементу события для дропдауна\n      setEventsOnDropdown(contactItem);\n\n      // Добавил новому элементу событие на ввод данных\n      setEventsOnInput(contactItem);\n\n      // Добавил новому элементу событие на кнопку \"Удалить контакт\"\n      setEventOnButtonDeleteContact(contactItem, buttonAddContact, wrapperContacts);\n\n      disabledButtonAddContact(buttonAddContact, wrapperContacts);\n    });\n  };\n\n  // Удаляем контакт по кнопке\n  function deleteContact(buttonAddContact, wrapperContacts) {\n    const deleteButtons = wrapperContacts.querySelectorAll('.modal-contacts__item');\n\n    deleteButtons.forEach(function (deleteButton) {\n      setEventOnButtonDeleteContact(deleteButton, buttonAddContact, wrapperContacts);\n    });\n  };\n\n  // Навешиваю событие клик на кнопку удаления контакта\n  function setEventOnButtonDeleteContact(element, buttonAddContact, wrapperContacts) {\n    const deleteButton = element.querySelector('.delete-contact__btn');\n    deleteButton.addEventListener('click', function () {\n      element.remove();\n      disabledButtonAddContact(buttonAddContact, wrapperContacts);\n      // // Стилизация блока контактов\n      setPaddingToContacrsWrap();\n    });\n  };\n\n  // Получаю данные формы модального окна\n  function getValuesFromModal(modal) {\n    let textError = '';\n    const surnameElement = modal.querySelector('#surname');\n    const surname = surnameElement.value.trim();\n    if (!surname) {\n      surnameElement.parentNode.classList.add('border-color_burnt-sienna');\n      textError = 'Введите фамилию клиента';\n    };\n\n    const nameElement = modal.querySelector('#name');\n    const name = nameElement.value.trim();\n    if (!name) {\n      nameElement.parentNode.classList.add('border-color_burnt-sienna');\n      if (textError) {\n        textError = textError + '<br>';\n      }\n      textError = textError + 'Введите имя клиента';\n    };\n\n    const lastNameElement = modal.querySelector('#lastname');\n    const lastName = lastNameElement.value.trim();\n\n    const contacts = [];\n    const contactsItems = modal.querySelectorAll('.modal-contacts__item');\n\n    contactsItems.forEach(function (contactsItem) {\n      const typeElement = contactsItem.querySelector('.contact-type__button');\n      const type = typeElement.innerText;\n      if (type === 'Тип контакта') {\n        typeElement.classList.add('border-color_burnt-sienna');\n        if (textError) {\n          textError = textError + '<br>';\n        }\n        textError = textError + 'Установите тип контакта';\n      }\n\n      const valueElement = contactsItem.querySelector('.contact-value');\n      const value = valueElement.value.trim();\n      if (!value) {\n        valueElement.classList.add('border-color_burnt-sienna');\n        if (textError) {\n          textError = textError + '<br>';\n        }\n        textError = textError + 'Введите данные контакта';\n      }\n\n      const objContact = {\n        type,\n        value,\n      };\n      contacts.push(objContact);\n    });\n\n    return {\n      name,\n      surname,\n      lastName,\n      contacts,\n      textError,\n    };\n  };\n\n  // Установка/снятие disabled с полей формы\n  function setDisabledOnElementsOfForm(modal, disabledElements) {\n    const modalInputs = modal.querySelectorAll('.modal__intup');\n    const contactsItems = modal.querySelectorAll('.modal-contacts__item');\n    const buttonAddContact = modal.querySelector('.modal-addcontact__btn');\n    const buttonSubmit = modal.querySelector('.submit-btn');\n    const buttonSmall = modal.querySelector('.modal-delete-btn');\n\n    if (disabledElements) {\n      modalInputs.forEach(function (modalInput) {\n        modalInput.disabled = true;\n      });\n\n      contactsItems.forEach(function (contactsItem) {\n        const typeElement = contactsItem.querySelector('.contact-type__button');\n        const valueElement = contactsItem.querySelector('.contact-value');\n        const buttonDeleteContact = contactsItem.querySelector('.delete-contact__btn');\n\n        typeElement.disabled = true;\n        valueElement.disabled = true;\n        buttonDeleteContact.disabled = true;\n      });\n\n      buttonAddContact.disabled = true;\n      buttonSubmit.disabled = true;\n      buttonSmall.disabled = true;\n\n    } else {\n      modalInputs.forEach(function (modalInput) {\n        modalInput.disabled = false;\n      });\n\n      contactsItems.forEach(function (contactsItem) {\n        const typeElement = contactsItem.querySelector('.contact-type__button');\n        const valueElement = contactsItem.querySelector('.contact-value');\n        const buttonDeleteContact = contactsItem.querySelector('.delete-contact__btn');\n\n        typeElement.disabled = false;\n        valueElement.disabled = false;\n        buttonDeleteContact.disabled = false;\n      });\n\n      buttonAddContact.disabled = false;\n      buttonSubmit.disabled = false;\n      buttonSmall.disabled = false;\n    };\n  };\n\n  // Закрываю модалку  \n  function onClose(modal) {\n    const wrapper = modal.querySelector('.modal__wrapper');\n    modal.classList.remove(VISIBLE_CSS);\n    wrapper.classList.remove(VISIBLE_CSS);\n    const timeoutId = setTimeout(function () {\n      modal.remove();\n    }, DELAY_TIME);\n    document.location.hash = '';\n  };\n\n  // Удаляю клиента\n  async function onDelete(clientId, modal) {\n    // Удаляю из базы\n    const response = await fetchDeleteClient(clientId);\n    httpErrorHandler(response, modal);\n  };\n\n  // Добавляю нового клиента \n  async function onSave(client, modal) {\n    const response = await fetchAddClient(client);\n    httpErrorHandler(response, modal);\n  };\n\n  // Обновляю данные клиента\n  async function onUpdate(сlient, clientId, modal) {\n    const response = await fetchUpdateClient(сlient, clientId);\n    httpErrorHandler(response, modal);\n  };\n\n  // Обработка HTTP ошибок \n  async function httpErrorHandler(response, modal) {\n    let info;\n    const wrapperError = modal.querySelector('.modal-error');\n    const spanError = wrapperError.querySelector('.modal-error__text');\n\n    if (response.status === 200 || response.status === 201) {\n      await updateClientsInTable();\n      onClose(modal);\n    } else {\n      if (modalWindowStructure.type !== 'delete') {\n        if (response.status === 500) {\n          info = `Данные не сохранены. Ответ сервера - ${response.status}. Ошибка работы сервера.`;\n        } else {\n          switch (response.status) {\n            case 404:\n              info = 'Данные не сохранены. Ответ сервера - 404. Не удалось найти запрашиваемую страницую.';\n              break;\n            case 422:\n              const errors = await response.json();\n              errors.errors.forEach(function (error) {\n                if (info) {\n                  info = info + ' <br> ' + error.message;\n                } else {\n                  info = error.message;\n                }\n              });\n              break;\n            default:\n              info = '\"Что-то пошло не так...\"';\n              break;\n          };\n        };\n\n        wrapperError.classList.remove('blocked');\n        spanError.innerHTML = info;\n      };\n    };\n  };\n\n\n  // ========== Серверная часть\n  // Задержка для тестов\n  const delay = ms => {\n    return new Promise(r => setTimeout(() => r(), ms));\n  };\n\n  // Читаем клиентов из базы\n  async function fetchGetClients() {\n    await delay(DELAY_TIME); // установка задержки\n    const response = await fetch(URI);\n    const data = await response.json();\n\n    return data;\n  };\n\n  // Ищем клиентов\n  async function fetchSearchClients(search) {\n    await delay(DELAY_TIME); // установка задержки\n    const url = `${URI}?search=${search}`;\n    const response = await fetch(url);\n    const data = await response.json();\n\n    return data;\n  };\n\n  // Добавляем клиента в базу\n  async function fetchAddClient(obj) {\n    await delay(DELAY_TIME); // установка задержки\n    const response = await fetch(URI, {\n      method: \"POST\",\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(obj),\n    });\n\n    return response;\n  };\n\n  // Получаем клиента по его ID\n  async function fetchGetClientById(id) {\n    await delay(DELAY_TIME); // установка задержки\n    const response = await fetch(`${URI}/${id}`);\n    const data = await response.json();\n\n    return data;\n  };\n\n  // Обновляем данные клиента по ID\n  async function fetchUpdateClient(obj, id) {\n    await delay(DELAY_TIME); // установка задержки\n    const response = await fetch(`${URI}/${id}`, {\n      method: \"PATCH\",\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(obj),\n    });\n\n    return response;\n  };\n\n  // Удаляем клиента по ID. Ничего не возвращает в body\n  async function fetchDeleteClient(id) {\n    const response = await fetch(`${URI}/${id}`, {\n      method: \"DELETE\",\n    });\n\n    return response;\n  };\n\n  // Добавление клиентов из базы данных в таблицу\n  async function updateClientsInTable() {\n    // Заблокировал инпут поиска клиентов \n    const serchInput = document.querySelector('.search-form__input');\n    serchInput.disabled = true;\n\n    // Показал оверлей\n    const tableBodyOverley = document.querySelector('.table-body__overlay');\n    tableBodyOverley.classList.remove('blocked');\n\n    // Записал данные о клинетах из базы в массив объекта\n    clientsState.clients = await fetchGetClients();\n\n    // Вставил данные в таблицу\n    insertClientsData(clientsState);\n\n    // Скрыл оверлей\n    tableBodyOverley.classList.add('blocked');\n\n    // Разблокировал инпут поиска клиентов\n    serchInput.disabled = false;\n  };\n\n\n  // Создание списка найденных клиентов\n  function createListItems(clients, list, tableBody) {\n\n    clients.forEach(function (client) {\n      const listItem = document.createElement('li');\n      listItem.classList.add('search__items');\n      listItem.setAttribute('data-id', client.id);\n      listItem.textContent = client.name + ' ' + client.surname;\n      list.append(listItem);\n\n      // Клик по списку\n      listItem.addEventListener('click', function () {\n        showClientInTable(this.dataset.id, tableBody);\n        clearListOfSearch(list);\n      });\n    });\n\n    list.classList.remove('blocked');\n\n    return list;\n  };\n\n  // Установка фокуса на элемент списка поиска клиентов\n  function setFocusOnItem(focusedItem, itemElements) {\n    if (focusedItem > itemElements.length - 1) {\n      focusedItem = 0;\n    };\n    if (focusedItem < 0) {\n      focusedItem = itemElements.length - 1\n    };\n    unfocusAllItems(itemElements);\n    itemElements[focusedItem].classList.add('search__items_focused');\n\n    return focusedItem;\n  };\n\n  // Снятие фокусировок с элементов списка поиска клиентов\n  function unfocusAllItems(itemElements) {\n    itemElements.forEach(function (itemElement) {\n      itemElement.classList.remove('search__items_focused');\n    });\n  };\n\n  // Поиск клиента в таблице по id, подсвечивание и плавный скролл\n  function showClientInTable(clientId) {\n    // Подсветил клиента\n    const trOfClient = document.getElementById(clientId);\n    trOfClient.classList.add('outline_medium-slate-blue');\n\n    // Плавный скрол до найденного элемента\n    trOfClient.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    })\n  };\n\n  // Очистка списка поиска \n  function clearListOfSearch(list) {\n    list.classList.add('blocked');\n    list.innerHTML = '';\n  };\n\n  // Основная функция\n  document.addEventListener('DOMContentLoaded', function () {\n    async function createApp() {\n      const container = document.getElementById('crm-app');\n      const header = createHeader(); //Создаю шапку сайта с лого и поиском\n      const tableHead = createTableHead(); //Создаю шапку таблицы\n      const tableBody = createTableBody(); //Создаю тело таблицы для вставки данных о клиентах\n      const addButton = createAddClientButton(); //TODO кнопку встроить после получения данных о клиентах  Создаю кнопку \"Добавить клиента\"\n\n      container.append(header.header); //Добавил шапку сайта в контейнер сайта\n      container.append(tableHead.main); //Добавил шапку таблицы в контейнер сайта\n      tableHead.tableBox.append(tableBody.tableBody); //Добавил в шапку таблицы тело таблицы\n      tableHead.main.append(addButton.wrapper); //Добвил в секцию main кнопку \"Довавить клиента\"\n\n      // Вставил данные из базы в таблицу\n      await updateClientsInTable();\n\n      // Показываю тултипы\n      showTooltips();\n\n      // Поиск по ФИО\n      // Создаем список для вывода результатов поиска \n      const listSearchedValues = document.createElement('ul');\n      listSearchedValues.classList.add('search__list', 'blocked');\n      header.form.append(listSearchedValues);\n\n      let timeoutId = null;\n      let listItemsElements = null;\n      let focusedItem = -1;\n\n      header.input.addEventListener('input', function () {\n        const highlightedItems = tableBody.tableBody.querySelectorAll('.table__row');\n        highlightedItems.forEach(function (highlightedItem) {\n          highlightedItem.classList.remove('outline_medium-slate-blue');\n        });\n\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(function () { findContacts() }, DELAY_TIME);\n      });\n\n      // Ищу клиентов по введенным данным в input\n      async function findContacts() {\n        const inputValue = header.input.value.trim();\n        clearListOfSearch(listSearchedValues);\n\n        if (inputValue) {\n          const serchedClients = await fetchSearchClients(inputValue);\n          if (serchedClients.length) {\n            listItemsElements = createListItems(serchedClients, listSearchedValues, tableBody.tableBody).querySelectorAll('.search__items');\n          } else {\n            listItemsElements = null;\n          };\n        } else {\n          listItemsElements = null;\n        };\n      };\n\n      // Установливаем обработчик событий на keydown\n      document.addEventListener('keydown', function (event) {\n        if (listItemsElements) {\n          switch (event.key) {\n            case 'Enter':\n              event.preventDefault();\n              showClientInTable(listItemsElements[focusedItem].dataset.id);\n              clearListOfSearch(listSearchedValues);\n              break;\n            case 'ArrowDown':\n              focusedItem++;\n              focusedItem = setFocusOnItem(focusedItem, listItemsElements);\n              break;\n            case 'ArrowUp':\n              focusedItem--;\n              focusedItem = setFocusOnItem(focusedItem, listItemsElements);\n              break;\n            case 'Escape':\n              clearListOfSearch(listSearchedValues);\n              break;\n          };\n        };\n      });\n\n      // Сортировка данных в таблице \n      sortDataInTable(clientsState, tableHead.tr);\n\n      // Добавляем клиента\n      addButton.button.addEventListener('click', function () {\n        modalWindowStructure.type = 'new';\n        createModalWindow('', modalWindowStructure);\n      });\n\n      // Если location.hash ссылка, открываем модальное\n      if (document.location.hash) {\n        const clientId = document.location.hash.split('_')[1];\n        modalWindowStructure.type = 'change';\n        const client = await fetchGetClientById(clientId);\n        createModalWindow(client, modalWindowStructure);\n      };\n    };\n\n    createApp();\n\n  });\n})();\n\n"]}